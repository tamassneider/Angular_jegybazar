<!--Form with header-->
<div class="card mb-4 col-11 col-sm-8 mx-auto p-0">

  <div class="card-header">
    <div class="bg-light text-center">
      <h3 *ngIf="!event.id; else modify">Új esemény létrehozása</h3>
      <ng-template #modify> <h3> Esemény szerkesztése</h3></ng-template>
    </div>
  </div>
  <!--card-body-->
  <div class="card-body">
  <form #eventForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="esemeny">Esemény címe:</label>
      <input type="text" class="form-control mb-3" id="esemeny"
             placeholder="Esemény címe"
             [disabled]="!editForm"
             [(ngModel)]="event.name"
             name="name"
             required
             #name="ngModel"
      >
      <alert type="danger" *ngIf="name.touched && name.invalid">Töltsd ki!!!</alert>
    </div>

    <div class="form-group">
      <label for="idopont">Esemény időpontja</label>
      <input type="date" class="form-control mb-3" id="idopont" placeholder="Esemény időpontja"
             [disabled]="!editForm"
             [(ngModel)]="event.date"
             name="date" required
      >
    </div>

    <div class="form-group row">
      <img class="mx-auto" [src]="event.pictureURL" alt="" width="100px" height="100px">
      <div class="form-group mx-auto mt-3">
        <label for="kep">Válassz képet az eseményhez</label>
        <input type="text" class="form-control-file" id="kep"
               [disabled]="!editForm"
               [(ngModel)]="event.pictureURL" name="pictureUrl"
        >
      </div>
    </div>

    <div class="form-group">
      <label for="leiras">Esemény leírása</label>
      <textarea class="form-control" placeholder="Esemény leírása" id="leiras"
                [disabled]="!editForm"
                [(ngModel)]="event.description" name="description" required
      ></textarea>
    </div>
    <div class="text-center mb-3">
      <button class="btn btn-primary btn-lg" type="submit"
              *ngIf="editForm"
              [disabled]="eventForm.invalid"
      > Mentés </button>
      <button class="btn btn-primary btn-lg"
              type="button"
              *ngIf="!editForm && userService.isLoggedin"
              (click)="editForm = true"
      >Szerkesztés</button>
      <button class="btn btn-primary btn-lg"
              type="button"
              *ngIf="!userService.isLoggedin"
              (click)="navigateBack()"
      >Vissza</button>
    </div>
  </form>
  </div>
</div>


